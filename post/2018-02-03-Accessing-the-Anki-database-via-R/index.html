<!doctype html><html><head lang=en><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=stylesheet href=https://use.typekit.net/wcp3hcc.css><link href="/css/style.min.7fefe04f5558bed9f245a3975a2f09ecca5539b29f4a27c425f59babe1cffebd.css" rel=stylesheet><title>Accessing the Anki database from R - ChrisK91.me</title></head><body class="bg-bluedark max-w-full lg:max-w-[80%] mx-auto"><div><div class="flex flex-col w-full px-4 py-4 mt-0 shadow-lg bg-bluemedium lg:mt-4 xl:mt-8"><div class="flex items-end justify-between font-sans text-6xl border-b md:text-9xl border-b-orange"><div><a href=/><span class="font-extrabold text-orange">ChrisK91</span><span class="font-light text-lightgreen">.me</span></a></div><div class="flex flex-col md:flex-row"><a href=https://twitter.com/ChrisK91 alt="Follow me on Twitter: @ChrisK91"><svg class="w-12 h-12 p-2 transition fill-lightyellow hover:fill-orange" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a><a href=https://med-mastodon.com/@chris alt="Follow me on Mastodon: @chris@med-mastodon.com"><svg class="w-12 h-12 p-2 transition fill-lightyellow hover:fill-orange" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></a></div></div></div><ul class="flex flex-row w-full mt-4 text-2xl font-bold shadow-lg bg-lightgreen justify-center space-x-4"><li><a href=/post/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>blog</span></a></li><li><a href=/pages/about/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>about me</span></a></li><li><a href=/post/2018-09-19-Basic-CSS-Template-for-Anki/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>Anki CSS Template</span></a></li><li><a href=/tools/correlation-shift.html class="hover:text-bluemedium transition hover:underline text-bluedark"><span>Correlation Shift</span></a></li><li><a href=https://chrisk91.me/ekgApp/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>EKG visualizer</span></a></li></ul><aside class="sticky right-0 top-0 invisible xl:visible float-right mt-12 mr-2 2xl:mr-28 2xl:mt-24 bg-white/20 backdrop-blur pl-1.5"><h5 class="font-bold text-bluedark text-lg 2xl:text-4xl 2xl:font-extrabold pt-3 pb-2">Outline</h5><ul class=toc><li><a href=#top-of-article>Back to top</a></li></ul><nav id=TableOfContents><ul><li><a href=#introduction-and-prerequisites>Introduction and prerequisites</a></li><li><a href=#getting-data-into-anki-and-resolving-the-deck-names>Getting data into Anki and resolving the deck names</a></li><li><a href=#lets-plot-some-stuff>Let&rsquo;s plot some stuff</a></li><li><a href=#how-many-cards-are-mature>How many cards are mature?</a></li><li><a href=#summary>Summary</a></li><li><a href=#further-reading>Further reading</a></li></ul></nav></aside><div class="p-2 md:pt-16 xl:pt-32 md:pl-8 xl:pl-32 2xl:pl-48 mt-4 mb-8 bg-white shadow-lg md:p-8 prose-p:font-serif prose-code:bg-bluemedium prose-code:text-white prose-code:px-1 prose-code:py-1 prose-code:rounded prose-code:select-all prose-code:font-mono prose-code:font-light prose-code:text-sm"><div class="prose lg:prose-xl" id=content><h1 class="mb-0 lg:mb-1" id=top-of-article>Accessing the Anki database from R</h1><div class=not-prose><ul class="flex p-4 gap-x-2"><li><a class="bg-bluedark hover:bg-bluemedium transition hover:underline px-2 py-1 text-white decoration-orange font-medium tracking-wide text-xs hover:shadow-sm uppercase" href=/tags/Anki/ title="Browse tag: Anki">#Anki</a></li><li><a class="bg-bluedark hover:bg-bluemedium transition hover:underline px-2 py-1 text-white decoration-orange font-medium tracking-wide text-xs hover:shadow-sm uppercase" href=/tags/R/ title="Browse tag: R">#R</a></li></ul></div><small class="text-bluemedium text-sm font-bold font-sans">Posted on February 3, 2018 |
Reading time 8 minutes</small><br><div class="not-prose flex w-full border border-lightgreen bg-lightyellow shadow-lg mt-2"><div class="bg-lightgreen rotate-180 [writing-mode:_vertical-lr] p-2 font-extrabold text-bluedark text-lg uppercase tracking-wide">key points</div><div class="p-2 keypoints place-self-center"><ul><li>We will get the Anki database data into R</li></ul></div></div><h2 id=introduction-and-prerequisites>Introduction and prerequisites</h2><p>Anki uses a SQLite database, in order to store all your notes, settings, reviews, etc. I&rsquo;ve always wanted to mess around with the review data, and create some charts with it. I assume that you know some basic R or SQL. Even if you don&rsquo;t, I think you&rsquo;ll be fine if you have some understanding of programming languages, as the code presented here is far from complicated.</p><p>In order to have a save working environment, I <em>strongly recommend</em> working on a copy of your database. You can find it (on Windows) in <code>%appdata%/anki2/YOUR_PROFILE</code>. Copy the file <code>collection.anki2</code> to a new folder, and create a <code>.R</code> script in the same location. I tend to use <a href=https://www.rstudio.com/>RStudio</a> as my environment when coding, since it has some nifty features (e.g. run the selected line with Ctrl + R and inline documentation view). In RStudio, you can also set the working directory to the location of your code file via <em>Session → Set Working Directory → To Source File Location</em></p><p>I will use the following packages in sections below: RSQLite, DBI (both to access the database), jsonlite (to parse some data) and ggplot2 (to create some graphs). If you don&rsquo;t have experience with ggplot2, you might want check out <a href=http://r-statistics.co/ggplot2-Tutorial-With-R.html>this short introduction</a>.</p><p>You can install the required packages and dependencies by running the following command:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#88c0d0>install.packages</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>c</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;RSQLite&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;DBI&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;jsonlite&#34;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;ggplot2&#34;</span><span style=color:#eceff4>))</span></span></span></code></pre></td></tr></table></div></div></div></div><p>Now obviously, we want to load these packages:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#88c0d0>require</span><span style=color:#eceff4>(</span>RSQLite<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>require</span><span style=color:#eceff4>(</span>DBI<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>require</span><span style=color:#eceff4>(</span>ggplot2<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>require</span><span style=color:#eceff4>(</span>jsonlite<span style=color:#eceff4>)</span></span></span></code></pre></td></tr></table></div></div></div></div><h2 id=getting-data-into-anki-and-resolving-the-deck-names>Getting data into Anki and resolving the deck names</h2><p>The database contains the tables <code>cards, col, graves, notes, revlog, sqlite_stat1</code>. We will only import <code>cards, col, notes, revlog</code>, since they contain the most interesting data. In the following code, I won&rsquo;t even access all tables. However, you will have every table ready to explore them further.</p><p>A detailed outline of the database can be found via the Anki Android wiki, which is linked at the end of this post.</p><p>I tend to import data <em>as-is</em>, and do the manipulation in R. So I will use <code>import * from TABLE</code> statements. To achieve certain things, you might also want to JOIN certain stuff directly.</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>connection <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbConnect</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>SQLite</span><span style=color:#eceff4>(),</span> dbname<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;collection.anki2&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbSendQuery</span><span style=color:#eceff4>(</span>connection<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;SELECT * from cards&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>cardData <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbFetch</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dbClearResult</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbSendQuery</span><span style=color:#eceff4>(</span>connection<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;SELECT * from col&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>collectionData <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbFetch</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dbClearResult</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbSendQuery</span><span style=color:#eceff4>(</span>connection<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;SELECT * from notes&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>notesData <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbFetch</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dbClearResult</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbSendQuery</span><span style=color:#eceff4>(</span>connection<span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#34;SELECT * from revlog&#34;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>revisionData <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>dbFetch</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dbClearResult</span><span style=color:#eceff4>(</span>result<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>dbDisconnect</span><span style=color:#eceff4>(</span>connection<span style=color:#eceff4>)</span></span></span></code></pre></td></tr></table></div></div></div></div><p>You will end up with four data frames, containing all the data from the database. We will start by exploring the <code>collection</code> dataframe. Running <code>str(collectionData)</code> shows us the structure:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#a3be8c>&#39;data.frame&#39;</span><span style=color:#81a1c1>:</span>	<span style=color:#b48ead>1</span> obs. of  <span style=color:#b48ead>13</span> variables<span style=color:#81a1c1>:</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> id    <span style=color:#81a1c1>:</span> int <span style=color:#b48ead>1</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> crt   <span style=color:#81a1c1>:</span> int <span style=color:#b48ead>1477461600</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> mod   <span style=color:#81a1c1>:</span>integer64 <span style=color:#b48ead>1517651707090</span> 
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> scm   <span style=color:#81a1c1>:</span>integer64 <span style=color:#b48ead>1516989662176</span> 
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> ver   <span style=color:#81a1c1>:</span> int <span style=color:#b48ead>11</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> dty   <span style=color:#81a1c1>:</span> int <span style=color:#b48ead>0</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> usn   <span style=color:#81a1c1>:</span> int <span style=color:#b48ead>724</span>
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> ls    <span style=color:#81a1c1>:</span>integer64 <span style=color:#b48ead>1517651707090</span> 
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> conf  <span style=color:#81a1c1>:</span> chr <span style=color:#a3be8c>&#34;{\&#34;nextPos\&#34;: 5131, \&#34;estTimes\&#34;: false, \&#34;activeDecks\&#34;: [1511615148492, 1511615155451, 1511615353208, 1511615&#34;</span><span style=color:#81a1c1>|</span> __truncated__
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> models<span style=color:#81a1c1>:</span> chr <span style=color:#a3be8c>&#34;{\&#34;1477567528678\&#34;: {\&#34;vers\&#34;: [], \&#34;name\&#34;: \&#34;Basic\&#34;, \&#34;tags\&#34;: [\&#34;KLinische_Pharma_COPD\&#34;, \&#34;Klinische_Pharm&#34;</span><span style=color:#81a1c1>|</span> __truncated__
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> decks <span style=color:#81a1c1>:</span> chr <span style=color:#a3be8c>&#34;{\&#34;1485866371701\&#34;: {\&#34;desc\&#34;: \&#34;\&#34;, \&#34;name\&#34;: \&#34;Klinik::Psychosomatik\&#34;, \&#34;extendRev\&#34;: 50, \&#34;usn\&#34;: 723, \&#34;co&#34;</span><span style=color:#81a1c1>|</span> __truncated__
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> dconf <span style=color:#81a1c1>:</span> chr <span style=color:#a3be8c>&#34;{\&#34;1\&#34;: {\&#34;name\&#34;: \&#34;Default\&#34;, \&#34;replayq\&#34;: true, \&#34;lapse\&#34;: {\&#34;leechFails\&#34;: 8, \&#34;minInt\&#34;: 1, \&#34;delays\&#34;: [1&#34;</span><span style=color:#81a1c1>|</span> __truncated__
</span></span><span style=display:flex><span> <span style=color:#81a1c1>$</span> tags  <span style=color:#81a1c1>:</span> chr <span style=color:#a3be8c>&#34;{\&#34;Gyn_Gutartige_EndometriumCA\&#34;: 0, \&#34;Derma_Allgemein\&#34;: 0, \&#34;Sono\&#34;: 0, \&#34;Uro\&#34;: 0, \&#34;Innere_EKG\&#34;: 0, \&#34;Uro_&#34;</span><span style=color:#81a1c1>|</span> __truncated__</span></span></code></pre></td></tr></table></div></div></div></div><p>The most interesting entry here is the <code>decks</code> column. It contains a JSON representation of all our decks. Let&rsquo;s extract this, and parse the JSON:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>collectionNames <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>fromJSON</span><span style=color:#eceff4>(</span>txt<span style=color:#81a1c1>=</span>collectionData<span style=color:#81a1c1>$</span>decks[1]<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># use the first row in the &#39;decks&#39; column</span></span></span></code></pre></td></tr></table></div></div></div></div><p>The <code>collectionNames</code> contains a named list, allowing us to access deck data based on id. For instance, we can use <code>collectionNames[["1"]]</code> to access information about the default deck. Let&rsquo;s create a function, that performs a lookup of the deck name based on the deck id.</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>getDeckName <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>function</span><span style=color:#eceff4>(</span>x<span style=color:#eceff4>)</span> collectionNames[[x]]<span style=color:#81a1c1>$</span>name</span></span></code></pre></td></tr></table></div></div></div></div><p>We can now pass the deck id (<em>as string</em>), and will get the deck name as a result. Let&rsquo;s put this to use.</p><p>The cardData data frame contains a column <code>did</code>, which contains the deck id of every card. Let&rsquo;s add a column with the name of the deck of the card as well:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>cardData<span style=color:#81a1c1>$</span>deck <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>factor</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>mapply</span><span style=color:#eceff4>(</span>getDeckName<span style=color:#eceff4>,</span> <span style=color:#88c0d0>as.character</span><span style=color:#eceff4>(</span>cardData<span style=color:#81a1c1>$</span>did<span style=color:#eceff4>)))</span> <span style=color:#616e87;font-style:italic>#perform lookup of deck names</span></span></span></code></pre></td></tr></table></div></div></div></div><p>What happens above: we apply the <code>getDeckName</code> function to each deck id. Before passing the ids, we convert them to a character (which is similar to a <em>string</em> data type from other languages). The results are turned into a <em>factor</em>, which <em>categorizes</em> your data. Every deck is a category, and every card can only be in one category. This step helps further on with graphing. Graphing library often times can&rsquo;t make sense of text. But we now <em>state</em>, that the deck names are actually categories, plotting libraries can correctly interpret this data.</p><p>It might also be interesting to add card related data to the revisions. The revisions contain a log, for each card you have reviewed. The <code>cid</code> column is the card, that has been reviewed. Let&rsquo;s also add the deck name to the revisions. We have to handle the case, where a card might have been removed. In this case, we will set &ldquo;Removed card&rdquo; as the deck name</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>getDeckNameFromCid <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>function</span><span style=color:#eceff4>(</span>x<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>    lookup <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>as.character</span><span style=color:#eceff4>(</span>cardData<span style=color:#81a1c1>$</span>deck[cardData<span style=color:#81a1c1>$</span>id <span style=color:#81a1c1>==</span> x]<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#88c0d0>if</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>identical</span><span style=color:#eceff4>(</span>lookup<span style=color:#eceff4>,</span> <span style=color:#88c0d0>character</span><span style=color:#eceff4>(</span><span style=color:#b48ead>0</span><span style=color:#eceff4>)))</span> <span style=color:#616e87;font-style:italic>#due to deleted cards, some lookups might fail</span>
</span></span><span style=display:flex><span>    <span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>      lookup <span style=color:#81a1c1>&lt;-</span> <span style=color:#a3be8c>&#34;Removed card&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#88c0d0>return</span><span style=color:#eceff4>(</span>lookup<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>  <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>revisionData<span style=color:#81a1c1>$</span>deck <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>factor</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>mapply</span><span style=color:#eceff4>(</span>getDeckNameFromCid<span style=color:#eceff4>,</span> revisionData<span style=color:#81a1c1>$</span>cid<span style=color:#eceff4>))</span></span></span></code></pre></td></tr></table></div></div></div></div><p>Depending on the amount of reviews, the lookup might take a while.</p><h2 id=lets-plot-some-stuff>Let&rsquo;s plot some stuff</h2><p>Ok, so let&rsquo;s get some plots going. First, let&rsquo;s check out, let&rsquo;s see how our review times fare. The <code>time</code> column in the revisionData tells us, how long we spent on every single answer. It actually contains the milliseconds, so we can just divide it by 1000 to get the seconds. I opted for a logarithmic y axis, since I had a huge number of reviews in the lower review times.</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#88c0d0>ggplot</span><span style=color:#eceff4>(</span>revisionData<span style=color:#eceff4>,</span> <span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>time <span style=color:#81a1c1>/</span> <span style=color:#b48ead>1000</span><span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>geom_histogram</span><span style=color:#eceff4>(</span>binwidth <span style=color:#81a1c1>=</span> <span style=color:#b48ead>10</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>xlab</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;Time spent reviewing a single card\n(seconds)&#34;</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>scale_y_log10</span><span style=color:#eceff4>()</span></span></span></code></pre></td></tr></table></div></div></div></div><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/anki_stats/histogram.png alt><p class="mt-2 text-base text-bluedark"></p></div><p>You can see, the time spent on each review seems to exponentially decrease, i.e. I do a lot of reviews in a few seconds, and only a hand full really take long. Also note, that the time cuts off at the level specified in the deck options, which I have set to 360. I also had it set to 600 some time ago.</p><p>Now, I&rsquo;m interest in breaking this data up into my different decks. I will also limit the x-axis to the range containing the most data (0 to 400).</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#88c0d0>ggplot</span><span style=color:#eceff4>(</span>revisionData<span style=color:#eceff4>,</span> <span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>time <span style=color:#81a1c1>/</span> <span style=color:#b48ead>1000</span><span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>geom_histogram</span><span style=color:#eceff4>(</span>binwidth <span style=color:#81a1c1>=</span> <span style=color:#b48ead>10</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>xlim</span><span style=color:#eceff4>(</span><span style=color:#b48ead>0</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>400</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>xlab</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;time spent reviewing a single card\n(seconds)&#34;</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>scale_y_log10</span><span style=color:#eceff4>()</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>ggtitle</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#34;Review times&#34;</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>facet_wrap</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>~</span> deck<span style=color:#eceff4>)</span></span></span></code></pre></td></tr></table></div></div></div></div><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/anki_stats/histogram_decks.png alt><p class="mt-2 text-base text-bluedark"></p></div><p>The purple deck was used for my last exam, where I used Anki extensively. This is easily recognizable by looking at the distribution. The review times stretch out further. For my surgical OSCE (light blue), I only had a small amount of very simple cards, therefore cards are much more clustered to the left. The bottom right and left (greenish and brownish) are language related, and I study them only for fun. Cards are only vocabularies, and are recalled very fast.</p><p>Finally, let&rsquo;s see how our decks are composed. I want to check out, how my intervals are distributed across my different decks:</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#88c0d0>ggplot</span><span style=color:#eceff4>(</span>cardData<span style=color:#eceff4>,</span> <span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>ivl<span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>geom_histogram</span><span style=color:#eceff4>(</span>binwidth <span style=color:#81a1c1>=</span> <span style=color:#b48ead>10</span><span style=color:#eceff4>)</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>facet_wrap</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>~</span> deck<span style=color:#eceff4>,</span> scales <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;free_y&#34;</span><span style=color:#eceff4>)</span></span></span></code></pre></td></tr></table></div></div></div></div><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/anki_stats/histogram_review_times.png alt><p class="mt-2 text-base text-bluedark"></p></div><p>Note the free scales on the y-axis. The blue deck (top left), and the four top right ones (orange, pink, green and green) are older decks. You can see, how they have rather long intervals. Again the purple deck from my last exam. The cards are still very young here, indicated by the low intervals. My language decks have a huge number of cards, and I recently started with them. This is why they only have very low intervals.</p><h2 id=how-many-cards-are-mature>How many cards are mature?</h2><p>There was an idea on Reddit, to have a heatmap of every single card, with the interval color coded. This way, you could have a graphical representation of your progress. This is also possible with R.</p><div class="not-prose font-mono max-w-full text-sm bg-bluemedium border-2 border-bluemedium shadow-lg my-4 hover:border-orange hover:bg-orange transition"><div class="overflow-x-scroll py-1 bg-codebg"><div class=highlight><div style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#6c6f74">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>plotWidth <span style=color:#81a1c1>&lt;-</span> <span style=color:#88c0d0>floor</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>sqrt</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>nrow</span><span style=color:#eceff4>(</span>cardData<span style=color:#eceff4>)))</span> <span style=color:#616e87;font-style:italic># our final dimension should be a square</span>
</span></span><span style=display:flex><span>cardData<span style=color:#81a1c1>$</span>index <span style=color:#81a1c1>&lt;-</span> <span style=color:#eceff4>(</span><span style=color:#b48ead>0</span> <span style=color:#81a1c1>:</span> <span style=color:#eceff4>(</span><span style=color:#88c0d0>nrow</span><span style=color:#eceff4>(</span>cardData<span style=color:#eceff4>)</span> <span style=color:#81a1c1>-</span> <span style=color:#b48ead>1</span><span style=color:#eceff4>))</span> <span style=color:#616e87;font-style:italic># to calculate the position of each card, we need a running count</span>
</span></span><span style=display:flex><span>cardData<span style=color:#81a1c1>$</span>X <span style=color:#81a1c1>&lt;-</span> cardData<span style=color:#81a1c1>$</span>index <span style=color:#81a1c1>%%</span> plotWidth <span style=color:#616e87;font-style:italic># x position</span>
</span></span><span style=display:flex><span>cardData<span style=color:#81a1c1>$</span>Y <span style=color:#81a1c1>&lt;-</span> cardData<span style=color:#81a1c1>$</span>index <span style=color:#81a1c1>%/%</span> plotWidth <span style=color:#616e87;font-style:italic># y position</span>
</span></span><span style=display:flex><span>cardData<span style=color:#81a1c1>$</span>mature <span style=color:#81a1c1>&lt;-</span> cardData<span style=color:#81a1c1>$</span>ivl <span style=color:#81a1c1>&gt;</span> <span style=color:#b48ead>21</span> <span style=color:#616e87;font-style:italic># you can also use this, to show mature cards</span>
</span></span><span style=display:flex><span><span style=color:#88c0d0>ggplot</span><span style=color:#eceff4>(</span>cardData<span style=color:#eceff4>,</span> <span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>X<span style=color:#eceff4>,</span> Y<span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>geom_tile</span><span style=color:#eceff4>(</span><span style=color:#88c0d0>aes</span><span style=color:#eceff4>(</span>fill <span style=color:#81a1c1>=</span> ivl<span style=color:#eceff4>))</span> <span style=color:#81a1c1>+</span> <span style=color:#88c0d0>scale_fill_gradient2</span><span style=color:#eceff4>(</span>mid <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;#dd6a27&#34;</span><span style=color:#eceff4>,</span> high <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;#12e824&#34;</span><span style=color:#eceff4>)</span></span></span></code></pre></td></tr></table></div></div></div></div><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/anki_stats/review_heatmap.png alt><p class="mt-2 text-base text-bluedark"></p></div><p>As you can see, I have still a long way to go, until all my cards are mature. This is due to the large premade language decks I&rsquo;ve imported. Below, I&rsquo;ve filtered the premade decks out, and you can see a large red chunk disappears</p><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/anki_stats/review_heatmap_filtered.png alt><p class="mt-2 text-base text-bluedark"></p></div><h2 id=summary>Summary</h2><p>We have imported the Anki data into R. By using only a fraction of the available data, we were able to get some insights into the data. The full code to create these graphics is available on GitHub <a href=https://gist.github.com/ChrisK91/c29177116b23660111a28cba1a4d186a>here</a>.</p><p>If you create a cool graphic, let me know via <a href=https://www.twitter.com/ChrisK91>Twitter</a>.</p><p><a href=https://streamable.com/s/7b5rl/qfyltr>Here is another thing I&rsquo;ve come up with.</a> I&rsquo;ve animated how the intervals of my cards have changed over the time. In the beginning, the maximum interval was quite limited. Once I&rsquo;ve lifted that, you can see the intervals exploding. This was also done purely in R (and ffmpeg to get the video).</p><h2 id=further-reading>Further reading</h2><ul><li><a href=http://r-statistics.co/ggplot2-Tutorial-With-R.html>A short introduction into the powerfull ggplot2 package</a></li><li><a href=https://github.com/jrnold/ggthemes>ggthemes, a package with some built in themes to make your plots look nicer</a></li><li><a href=https://cran.r-project.org/web/packages/ggthemes/vignettes/ggthemes.html>A overview of the styles that come with ggthemes</a></li><li><a href=https://github.com/ankidroid/Anki-Android/wiki/Database-Structure>A discussion of the Anki database schema, from the Anki Android project</a></li><li><a href=http://sqlitebrowser.org/>SQLite Browser, allows you to browse the database directly</a></li></ul></div></div><div class="p-2 mt-4 mb-8 bg-white shadow-lg md:p-8"><div class="prose lg:prose-xl mb-2" id=content><h1>Comments</h1></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//http-chrisk91-me.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-30MHG4HNXJ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-30MHG4HNXJ",{anonymize_ip:!1})}</script></body></html>