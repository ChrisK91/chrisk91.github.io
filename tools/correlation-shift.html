<!doctype html><html><head lang=en><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=stylesheet href=https://use.typekit.net/wcp3hcc.css><link href="/css/style.min.7fefe04f5558bed9f245a3975a2f09ecca5539b29f4a27c425f59babe1cffebd.css" rel=stylesheet><title>correlation shift - ChrisK91.me</title></head><body class="bg-bluedark max-w-full lg:max-w-[80%] mx-auto"><div><div class="flex flex-col w-full px-4 py-4 mt-0 shadow-lg bg-bluemedium lg:mt-4 xl:mt-8"><div class="flex items-end justify-between font-sans text-6xl border-b md:text-9xl border-b-orange"><div><a href=/><span class="font-extrabold text-orange">ChrisK91</span><span class="font-light text-lightgreen">.me</span></a></div><div class="flex flex-col md:flex-row"><a href=https://twitter.com/ChrisK91 alt="Follow me on Twitter: @ChrisK91"><svg class="w-12 h-12 p-2 transition fill-lightyellow hover:fill-orange" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a><a href=https://med-mastodon.com/@chris alt="Follow me on Mastodon: @chris@med-mastodon.com"><svg class="w-12 h-12 p-2 transition fill-lightyellow hover:fill-orange" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></a></div></div></div><ul class="flex flex-row w-full mt-4 text-2xl font-bold shadow-lg bg-lightgreen justify-center space-x-4"><li><a href=/post/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>blog</span></a></li><li><a href=/pages/about/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>about me</span></a></li><li><a href=/post/2018-09-19-Basic-CSS-Template-for-Anki/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>Anki CSS Template</span></a></li><li><a href=/tools/correlation-shift.html class="hover:text-bluemedium transition hover:underline text-bluemedium underline"><span>Correlation Shift</span></a></li><li><a href=https://chrisk91.me/ekgApp/ class="hover:text-bluemedium transition hover:underline text-bluedark"><span>EKG visualizer</span></a></li></ul><div class="p-2 md:pt-16 xl:pt-32 md:pl-8 xl:pl-32 2xl:pl-48 mt-4 mb-8 bg-white shadow-lg md:p-8"><div class="prose lg:prose-xl" id=content><h1>correlation shift</h1><p>You can use this tool to maximize the correlation of two images. This can be useful if you experience a certain shift when switching channels. The program calculates the Pearson Product-Moment coefficient and determines to offset where it reaches its maximum. Especially if features are present with the same intensity in both channels, they tend to be aligned very well.</p><blockquote><p><a href=https://github.com/ChrisK91/Correlation-Shift/releases><strong>Download</strong></a></p><p><em>Select x64 (64bit) or x86 (32bit) depending on your architecture</em></p></blockquote><p>This tool is released under the MIT license. Feel free to copy and redistribute it.</p><div class="flex flex-col not-prose p-2 md:p-4 xl:p-6 md:shadow-lg bg-bluemedium/10 border border-bluemedium/20 xl:max-w-[80%] mx-auto"><img src=/images/tools/correlation-shift.png alt><p class="mt-2 text-base text-bluedark">Correlation Shift can be used to align images based on their correlation coefficient.</p></div><h3 id=notes>Notes</h3><ul><li>You need grayscale tif files with either 8 or 16 bit depth</li><li>Images will be matched in alphabetical order. If the <em>Run</em> button is disabled, one box contains a different number of images than the other.</li><li>Make sure that the files have the same resolution, otherwise the program will crash</li><li><em>On 64 bit machines</em>: The software will use multithreading to process images in parallel. If you have large images you might need to limit the number of parallel threads. See the settings below on instructions how to do that</li><li>Only full pixel steps will be calculated. If you want to use half pixel steps you can work around this by doubling the resolution of your images (e.g. in ImageJ). Be aware of interpolation artifacts.</li><li>Using this tool will most likely change correlation and colocalization data. It is proper scientific practice to <em>fully report</em> image transformation and discuss these steps in any results based on aligned images. Using a tool for shifting makes the process of alignment automated and reproducible. You should still check the results manually.</li></ul><h3 id=usage>Usage</h3><ul><li>Drop the files of channel 1 in the left box (these will be shifted)</li><li>Drop the files of channel 2 in the right box</li><li>Click run and specify an empty output directory</li></ul><h3 id=settings>Settings</h3><p>You can access the configuration file via <em>About â†’ Open application folder</em>. Right click the <em>configuration.xml</em> file and open with notepad. The following options are available:</p><p><code>MinX</code> and <code>MinY</code>: The minimum offset along the X/Y axis in pixel, default <code>-20</code></p><p><code>MaxX</code> and <code>MaxY</code>: The maximum offset along the X/Y axis in pixel, default <code>20</code></p><p><code>ImageJPath</code>: The absolute path to ImageJ (e.g. <code>C:\ImageJ\ImageJ-win64.exe</code>). Default <code>null</code>. If specified: ImageJ will be used to perform an actual shift of the images. It is recommended to not touch anything while ImageJ is working ;)</p><p><code>MaxThreads</code> (x64 only): Determines the maximum amount of worker threads. Default <code>-1</code>, uses twice the amount of logical cores. Set this to a lower number if the program crashes with a memory warning.</p></div></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-30MHG4HNXJ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-30MHG4HNXJ",{anonymize_ip:!1})}</script></body></html>